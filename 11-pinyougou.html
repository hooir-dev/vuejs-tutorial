<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>第11章 电商管理项目 | Vue.js 入门教程</title>
    <meta name="description" content="持续更新中...">
    
    
    <link rel="preload" href="/assets/css/0.styles.382af5d5.css" as="style"><link rel="preload" href="/assets/js/app.04bb4e44.js" as="script"><link rel="preload" href="/assets/js/2.5531c68e.js" as="script"><link rel="prefetch" href="/assets/js/10.5ad0ce81.js"><link rel="prefetch" href="/assets/js/11.27047833.js"><link rel="prefetch" href="/assets/js/12.fee5ac39.js"><link rel="prefetch" href="/assets/js/13.81787756.js"><link rel="prefetch" href="/assets/js/14.5099952d.js"><link rel="prefetch" href="/assets/js/15.ca35b634.js"><link rel="prefetch" href="/assets/js/16.f55fbe61.js"><link rel="prefetch" href="/assets/js/17.a8628739.js"><link rel="prefetch" href="/assets/js/18.951f3932.js"><link rel="prefetch" href="/assets/js/19.0ccd7005.js"><link rel="prefetch" href="/assets/js/20.1955c5df.js"><link rel="prefetch" href="/assets/js/21.173ef330.js"><link rel="prefetch" href="/assets/js/22.e66c2867.js"><link rel="prefetch" href="/assets/js/23.760b7e73.js"><link rel="prefetch" href="/assets/js/3.77656747.js"><link rel="prefetch" href="/assets/js/4.ce175e50.js"><link rel="prefetch" href="/assets/js/5.0f2880b9.js"><link rel="prefetch" href="/assets/js/6.2dabd5c7.js"><link rel="prefetch" href="/assets/js/7.8397338c.js"><link rel="prefetch" href="/assets/js/8.0906ed9c.js"><link rel="prefetch" href="/assets/js/9.b55f73b4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.382af5d5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Vue.js 入门教程</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="http://liuyang.feblog.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  刘洋博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">学习文档</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://js.feblog.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  javascript
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://nodejs.feblog.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  nodejs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/thisliuyang/vuejs-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="http://liuyang.feblog.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  刘洋博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">学习文档</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://js.feblog.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  javascript
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://nodejs.feblog.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  nodejs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/thisliuyang/vuejs-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/00-content_introduction.html" class="sidebar-link">文档介绍</a></li><li><a href="/01-vue_introduction.html" class="sidebar-link">第1章 Vue.js 介绍</a></li><li><a href="/02-getting_started.html" class="sidebar-link">第2章 起步</a></li><li><a href="/03-template_syntax.html" class="sidebar-link">第3章 模板语法</a></li><li><a href="/04-todomvc.html" class="sidebar-link">第4章 基础案例 - TodoMVC</a></li><li><a href="/05-component_base.html" class="sidebar-link">第5章 组件基础</a></li><li><a href="/06-transitions.html" class="sidebar-link">第6章 过度&amp;动画</a></li><li><a href="/07-ajax.html" class="sidebar-link">第7章 和服务端通信</a></li><li><a href="/08-vue_router.html" class="sidebar-link">第8章 Vue Router</a></li><li><a href="/09-vue_cli.html" class="sidebar-link">第9章 Vue CLI</a></li><li><a href="/10-preheat.html" class="sidebar-link">第10章 预热案例</a></li><li><a href="/11-pinyougou.html" class="active sidebar-link">第11章 电商管理项目</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/11-pinyougou.html#介绍" class="sidebar-link">介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/11-pinyougou.html#做什么" class="sidebar-link">做什么</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#技术栈" class="sidebar-link">技术栈</a></li></ul></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#零、准备" class="sidebar-link">零、准备</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/11-pinyougou.html#部署-api-接口服务" class="sidebar-link">部署 API 接口服务</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#部署预览完整版客户端" class="sidebar-link">部署预览完整版客户端</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#postman-接口测试工具" class="sidebar-link">Postman 接口测试工具</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#yarn" class="sidebar-link">Yarn</a></li></ul></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#一、项目初始化" class="sidebar-link">一、项目初始化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/11-pinyougou.html#使用-vue-cli-初始化项目" class="sidebar-link">使用 Vue CLI 初始化项目</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#项目结构介绍" class="sidebar-link">项目结构介绍</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#程序的启动" class="sidebar-link">程序的启动</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#代码风格" class="sidebar-link">代码风格</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#自定义代码规范" class="sidebar-link">自定义代码规范</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#加入-git-版本控制" class="sidebar-link">加入 Git 版本控制</a></li></ul></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#二、从登陆开始" class="sidebar-link">二、从登陆开始</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/11-pinyougou.html#基本登陆" class="sidebar-link">基本登陆</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#使用路由导航守卫结合-token-处理视图访问拦截" class="sidebar-link">使用路由导航守卫结合 token 处理视图访问拦截</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#导入-elementui" class="sidebar-link">导入 ElementUI</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#布局登陆组件" class="sidebar-link">布局登陆组件</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#为登陆组件加入表单验证" class="sidebar-link">为登陆组件加入表单验证</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#使用-message-消息提示给出操作反馈" class="sidebar-link">使用 Message 消息提示给出操作反馈</a></li></ul></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#三、home-组件处理" class="sidebar-link">三、Home 组件处理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/11-pinyougou.html#布局-home-组件基本结构" class="sidebar-link">布局 Home 组件基本结构</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#布局侧边栏" class="sidebar-link">布局侧边栏</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#布局-header-头部" class="sidebar-link">布局 Header 头部</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#处理用户退出" class="sidebar-link">处理用户退出</a></li></ul></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#四、用户列表" class="sidebar-link">四、用户列表</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/11-pinyougou.html#添加用户列表组件并配置路由表" class="sidebar-link">添加用户列表组件并配置路由表</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#在用户列表中使用表格组件" class="sidebar-link">在用户列表中使用表格组件</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#在请求头中加入-token-请求用户列表" class="sidebar-link">在请求头中加入 token 请求用户列表</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#将请求得到的数据更新到用户列表表格中" class="sidebar-link">将请求得到的数据更新到用户列表表格中</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#分页展示用户列表" class="sidebar-link">分页展示用户列表</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#用户列表搜索" class="sidebar-link">用户列表搜索</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#添加用户" class="sidebar-link">添加用户</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#修改用户状态" class="sidebar-link">修改用户状态</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#删除用户" class="sidebar-link">删除用户</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#编辑用户" class="sidebar-link">编辑用户</a></li></ul></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#将-axios-扩展为-vue-插件" class="sidebar-link">将 axios 扩展为 Vue 插件</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#二、用户管理" class="sidebar-link">二、用户管理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/11-pinyougou.html#表格列表渲染" class="sidebar-link">表格列表渲染</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#分页处理" class="sidebar-link">分页处理</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#列表搜索" class="sidebar-link">列表搜索</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#修改用户状态-2" class="sidebar-link">修改用户状态</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#添加用户-2" class="sidebar-link">添加用户</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#删除用户-2" class="sidebar-link">删除用户</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#编辑用户-2" class="sidebar-link">编辑用户</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#角色分配" class="sidebar-link">角色分配</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#动态加载侧边栏操作菜单" class="sidebar-link">动态加载侧边栏操作菜单</a></li></ul></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#三、权限管理" class="sidebar-link">三、权限管理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/11-pinyougou.html#权限列表" class="sidebar-link">权限列表</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#角色列表" class="sidebar-link">角色列表</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#添加角色" class="sidebar-link">添加角色</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#删除角色" class="sidebar-link">删除角色</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#修改角色" class="sidebar-link">修改角色</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#删除角色指定权限" class="sidebar-link">删除角色指定权限</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#角色授权" class="sidebar-link">角色授权</a></li></ul></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#四、商品分类管理" class="sidebar-link">四、商品分类管理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/11-pinyougou.html#分类列表展示" class="sidebar-link">分类列表展示</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#添加分类" class="sidebar-link">添加分类</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#删除分类" class="sidebar-link">删除分类</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#编辑分类" class="sidebar-link">编辑分类</a></li></ul></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#商品管理" class="sidebar-link">商品管理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/11-pinyougou.html#商品列表" class="sidebar-link">商品列表</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#添加商品" class="sidebar-link">添加商品</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#编辑商品" class="sidebar-link">编辑商品</a></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#删除商品" class="sidebar-link">删除商品</a></li></ul></li><li class="sidebar-sub-header"><a href="/11-pinyougou.html#项目打包" class="sidebar-link">项目打包</a></li></ul></li><li><a href="/12-webpack.html" class="sidebar-link">第12章 webpack</a></li><li><a href="/13-vuex.html" class="sidebar-link">第13章 Vuex</a></li><li><a href="/vue-style-guide.html" class="sidebar-link">附录1 Vue 编码规范</a></li><li><a href="/vue-debugging.html" class="sidebar-link">附录2 Vue 调试</a></li><li><a href="/vue-cli-example.html" class="sidebar-link">VueCLI+Vue+VueRouter 案例</a></li><li><a href="/mvvm.html" class="sidebar-link">MVVM</a></li><li><a href="/direvtives.html" class="sidebar-link">指令</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="第11章-电商管理项目"><a href="#第11章-电商管理项目" aria-hidden="true" class="header-anchor">#</a> 第11章 电商管理项目</h1> <h2 id="介绍"><a href="#介绍" aria-hidden="true" class="header-anchor">#</a> 介绍</h2> <h3 id="做什么"><a href="#做什么" aria-hidden="true" class="header-anchor">#</a> 做什么</h3> <blockquote><p>一个前后端分离的电商B端管理系统</p> <ul><li>我们主要做客户端</li> <li>服务端有准备的接口</li></ul></blockquote> <h3 id="技术栈"><a href="#技术栈" aria-hidden="true" class="header-anchor">#</a> 技术栈</h3> <ul><li>Vue.js</li> <li>Vue CLI</li> <li>Vue Router</li> <li>ELementUI</li> <li>axios</li> <li>组件化 + 模块化</li></ul> <h2 id="零、准备"><a href="#零、准备" aria-hidden="true" class="header-anchor">#</a> 零、准备</h2> <h3 id="部署-api-接口服务"><a href="#部署-api-接口服务" aria-hidden="true" class="header-anchor">#</a> 部署 API 接口服务</h3> <blockquote><p>为了我们学习方便，建议大家把接口服务部署到自己的本地。</p> <p>实际工作中不需要，一般后端开发人员会把接口部署到本地局域网或者线上给你使用。</p></blockquote> <ol><li>将接口服务项目下载到本地</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> clone https://github.com/thisliuyang/shop-api.git
</code></pre></div><ol start="2"><li><p>创建一个数据库命名为 <code>shop</code></p></li> <li><p>将 <code>shop-api/shop.sql</code> 导入 <code>shop</code> 数据库中</p></li> <li><p>将 <code>shop-api/config/default.json</code> 文件中的数据库连接信息 <code>db_config</code> 修改为自己的</p></li> <li><p>安装第三方包并启动 API 服务</p></li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cd</span> shop-api

<span class="token comment"># 或者 yarn install</span>
<span class="token function">npm</span> <span class="token function">install</span>
</code></pre></div><blockquote><p>注意：使用 yarn 安装依赖的时候不要使用淘宝的镜像源，否则可能会导致安装失败</p> <p>取消淘宝镜像源的方式是删除 <code>c:/Users/你的用户名/.npmrc</code> 文件即可</p></blockquote> <p>最后，双击 <code>双击启动接口服务.bat</code> 文件，启动接口服务，如果看到如下提示信息则说明部署启动成功。</p> <p><img src="/assets/img/README0.d5c13542.png" alt></p> <blockquote><p>注意：使用接口期间请确保这个命令行处理开启状态</p></blockquote> <h3 id="部署预览完整版客户端"><a href="#部署预览完整版客户端" aria-hidden="true" class="header-anchor">#</a> 部署预览完整版客户端</h3> <blockquote><p>为了方便学习，建议将完整版客户端包括完整的功能和源代码。</p></blockquote> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 下载源码到本地</span>
<span class="token function">git</span> clone https://gitee.com/lipengzhou/shop-admin-dist.git

<span class="token comment"># 进入项目中</span>
<span class="token function">cd</span> shop-amdin-dist

<span class="token comment"># 或者 yarn install</span>
<span class="token function">npm</span> <span class="token function">install</span>

<span class="token comment"># 或者 yarn start</span>
<span class="token function">npm</span> start
</code></pre></div><p>执行完 <code>yarn start</code> 命令之后会看到如下提示：</p> <p><img src="data:image/png;base64,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" alt></p> <blockquote><p>执行 <code>yarn start</code> 命令之后默认开启的服务占用的端口号是 <code>8080</code>，如果 8080 被占用，则会 +1 依次向后使用，例如 8081、8082、8083...，以终端提示为准。</p></blockquote> <p>打开浏览器访问终端中给出的服务地址。</p> <p><img src="/assets/img/1553153073431.ea512e1e.png" alt="1553153073431"></p> <blockquote><p>测试账号</p> <p>用户名：admin</p> <p>密码：123456</p></blockquote> <h3 id="postman-接口测试工具"><a href="#postman-接口测试工具" aria-hidden="true" class="header-anchor">#</a> Postman 接口测试工具</h3> <ul><li>是什么，解决什么问题
<ul><li>官网：https://www.getpostman.com/</li></ul></li> <li>下载安装</li> <li>使用</li></ul> <h3 id="yarn"><a href="#yarn" aria-hidden="true" class="header-anchor">#</a> Yarn</h3> <p><a href="https://yarnpkg.com/" target="_blank" rel="noopener noreferrer">Yarn<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 是 Facebook 工程师开发的一个类似于 <a href="https://www.npmjs.com/" target="_blank" rel="noopener noreferrer">npm<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 的包管理工具。相比 npm ，Yarn 号称具有更好的功能特性。</p> <ul><li>快速
<ul><li>并行下载</li> <li>Yarn 会缓存它下载的每个包，所以无需重复下载</li></ul></li> <li>可靠
<ul><li>Yarn会在每个安装包被执行前校验其完整性。</li></ul></li> <li>安全
<ul><li>Yarn 使用格式详尽而又简洁的 lockfile文件 和确定性算法来安装依赖，能够保证在一个系统上的运行的安装过程也会以同样的方式运行在其他系统上。</li></ul></li></ul> <p>下载及安装：</p> <blockquote><p>https://yarnpkg.com/zh-Hans/docs/install</p></blockquote> <p>像使用 npm 一样来使用 yarn：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># npm init</span>
yarn init

<span class="token comment"># npm init -y</span>
yarn init -y

<span class="token comment"># npm install 包名</span>
yarn add 包名

<span class="token comment"># npm install 包名@版本号</span>
yarn add 包名@版本号

<span class="token comment"># npm uninstall 包名</span>
yarn remove 包名

<span class="token comment"># npm install</span>
yarn <span class="token function">install</span> 或者 yarn

<span class="token comment"># npm install --global 包名</span>
yarn global add 包名

<span class="token comment"># npm uninstall --global 包名</span>
yarn global remove 包名
</code></pre></div><blockquote><p>使用 yarn 管理第三方包会在项目目录中生成一个 <code>yarn.lock</code>，它的作用类似于 <code>package-lock.json</code></p></blockquote> <blockquote><p>警告：建议在项目中只使用一种包管理工具，或者 npm 或者 yarn，不要两者混合使用，否则会导致包的混乱及重复安装反而降低了效率。</p> <p>如果想在你的半拉子项目中切换另一个工具，那就把 node_moudles 删除再使用另一个工具全部安装一下。</p></blockquote> <hr> <h2 id="一、项目初始化"><a href="#一、项目初始化" aria-hidden="true" class="header-anchor">#</a> 一、项目初始化</h2> <h3 id="使用-vue-cli-初始化项目"><a href="#使用-vue-cli-初始化项目" aria-hidden="true" class="header-anchor">#</a> 使用 Vue CLI 初始化项目</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 如果已经安装过了则不需要重新安装</span>
<span class="token function">npm</span> <span class="token function">install</span> -g @vue/cli

vue create shop-admin-65
</code></pre></div><p><img src="/assets/img/1553140274639.12e6e4ab.png" alt="1553140274639"></p> <p><img src="/assets/img/1553140540883.d5ef40bd.png" alt="1553140540883"></p> <blockquote><p>Babel 是一个插件，它能把 ECMAScript 6 代码转成 ECMAScript 5 ，从而可以在低版本浏览器运行。</p> <p>Router 就是 Vue Router</p> <p>Linter / Formatter 就是代码格式校验工具</p></blockquote> <p><img src="/assets/img/1553140616129.7694d0ba.png" alt="1553140616129"></p> <blockquote><p>这里就是问你使用传统的 url 路由路径还是使用 hash 路由路径</p> <p>Y 就是使用传统的 url 路径（非hash），更简洁漂亮，但是需要做额外的服务器配置，兼容性不好。</p> <p>n 使用 hash 路径，简单直接，不需要任何配置，兼容性好。</p> <p>输入 y 或者 n 敲回车进入下一步。</p></blockquote> <p><img src="/assets/img/1553141186574.b2647f3b.png" alt="1553141186574"></p> <blockquote><p>选择与校验工具配合的校验规则。</p> <p>Airbnb JavaScript Style：规则太多，使用麻烦，很多使用者需要单独去定制</p> <p>JavaScript Standard Style：规则刚好够用，不需要做太多修改</p> <p>Prettier：这是一个规则+格式化的工具，暂时不考虑</p> <p>规则是人定的，在符合大多数人的习惯的情况下可以做自定义修改。</p></blockquote> <p><img src="/assets/img/1553141352000.2a21e5f3.png" alt="1553141352000"></p> <blockquote><p>第1个选项表示每次保存文件的时候，自动校验代码格式</p> <p>第2个选项表示只有当你使用 git commit 提交代码的时候才进行代码格式校验</p> <p>这里我们选择第1个，有错及时改</p></blockquote> <p><img src="/assets/img/1553141511202.ed7c77b8.png" alt="1553141511202"></p> <blockquote><p>Vue CLI 会安装一些插件，而插件有自己的配置文件</p> <p>第1个选项意思是把插件的配置文件生成到单独的文件中</p> <p>第2选项意思是把插件的配置生成到 package.json 文件中</p> <p>建议选择第1种，单独生成插件的配置文件，不和 package.json 文件混在一起。</p> <p>因为我们可能需要对某个插件进行单独的配置，所以建议插件的配置生成单独的配置文件。</p></blockquote> <p><img src="/assets/img/1553141627713.71ab2995.png" alt="1553141627713"></p> <blockquote><p>这里就是问你是否将我们刚才一系列的选择保存为一个定制项（就是你每一步选的啥都存起来了）。</p> <p>如果保存了定制项，则下一次生成项目的时候可以快速的选择这个定制项，一步完成跟这里一模一样的选择配置。</p></blockquote> <p><img src="/assets/img/1553141839374.6d763310.png" alt="1553141839374"></p> <blockquote><p>例如我这里需要让它记住这个定制项，输入 y ，然后它会让你给这个定制项起个名字。</p></blockquote> <p><img src="/assets/img/1553155523220.f1c1385f.png" alt="1553155523220"></p> <blockquote><p>第1个选项使用 yarn 作为包管理工具</p> <p>第2个选项使用 npm 作为包管理工具</p> <p>根据自己的需要选择一个。</p> <p>如果没有安装  yarn，这里就直接使用 npm 作为包管理工具了。</p></blockquote> <p><img src="/assets/img/1553141895306.0268242b.png" alt="1553141895306"></p> <blockquote><p>经过一些列配置选择之后，它就开始自动装包。</p></blockquote> <p><img src="/assets/img/1553141967849.ecf28efa.png" alt="1553141967849"></p> <blockquote><p>等待...</p> <p>提示：如果装包的过程长时间不动，建议 <code>Ctrl + C</code> 打断安装，自己手动在该项目中执行 <code>npm install</code></p></blockquote> <p><img src="/assets/img/1553142055828.2d4fd860.png" alt="1553142055828"></p> <blockquote><p>看到这样的提示，就证明初始化成功了。</p></blockquote> <p>然后按照提示，执行</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cd</span> 项目

<span class="token comment"># 或者 npm run serve</span>
yarn serve
</code></pre></div><p><img src="/assets/img/1553142134758.3f391ee9.png" alt="1553142134758"></p> <blockquote><p>表示启动成功。</p></blockquote> <p><img src="/assets/img/1553142198580.6f6a59b7.png" alt="1553142198580"></p> <blockquote><p>最后在浏览器中访问给出的地址。</p></blockquote> <h3 id="项目结构介绍"><a href="#项目结构介绍" aria-hidden="true" class="header-anchor">#</a> 项目结构介绍</h3> <p><img src="/assets/img/1553156109560.42bb6335.png" alt="1553156109560"></p> <ul><li>node_modules 第三方包存储目录</li> <li>public 托管的静态资源目录</li> <li>src 源码
<ul><li>assets 静态静态</li> <li>components 公共组件存储目录</li> <li>views 路由组件存储目录</li> <li>App.vue 根组件</li> <li>main.js 启动入口</li> <li>router.js 路由文件</li></ul></li> <li>.browserlistrc 插件相关配置文件</li> <li>.editorconfig 插件相关配置文件</li> <li>.eslintrc.js 代码校验器相关配置文件
<ul><li>例如想要修改代码校验规则可以去这个文件中进行修改</li></ul></li> <li>.gitignore git的忽略配置文件</li> <li>babel.config.js babel相关的配置文件
<ul><li>babel 可以把 ECMAScript6 转成 es5</li></ul></li> <li>package.json 包说明文件，包含项目名称、依赖信息等数据</li> <li>postcss.config.js 插件相关配置文件</li> <li>README.md 请读我</li> <li>yarn.lock 类似于 package-lock.json 文件</li></ul> <h3 id="程序的启动"><a href="#程序的启动" aria-hidden="true" class="header-anchor">#</a> 程序的启动</h3> <ul><li>找到 main.js
<ul><li>加载 App.vue 根组件</li> <li>配置路由到程序中</li></ul></li> <li>将 App.vue 替换到入口节点</li> <li>当请求 / 就展示 Home 组件</li> <li>当请求 /about 就展示 About 组件</li></ul> <h3 id="代码风格"><a href="#代码风格" aria-hidden="true" class="header-anchor">#</a> 代码风格</h3> <p>我们的项目采用 <a href="https://standardjs.com/" target="_blank" rel="noopener noreferrer">JavaScript Standard Style<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 代码风格，以下是一些基本规范细则。</p> <ul><li><strong>使用两个空格</strong> – 进行缩进</li> <li><strong>字符串使用单引号</strong> – 需要转义的地方除外</li> <li><strong>不再有冗余的变量</strong> – 这是导致 <em>大量</em> bug 的源头!</li> <li><strong>无分号</strong> – <a href="http://blog.izs.me/post/2353458699/an-open-letter-to-javascript-leaders-regarding" target="_blank" rel="noopener noreferrer">这<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><a href="http://inimino.org/~inimino/blog/javascript_semicolons" target="_blank" rel="noopener noreferrer">没什么不好。<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><a href="https://www.youtube.com/watch?v=gsfbh17Ax9I" target="_blank" rel="noopener noreferrer">不骗你！<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>行首不要以 <code>(</code>, <code>[</code>, or ``` 开头
<ul><li>这是省略分号时<strong>唯一</strong>会造成问题的地方 – <em>工具里已加了自动检测！</em></li> <li><a href="https://github.com/standard/standard/blob/master/docs/RULES-zhcn.md#semicolons" target="_blank" rel="noopener noreferrer">详情<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li> <li><strong>关键字后加空格</strong> <code>if (condition) { ... }</code></li> <li><strong>函数名后加空格</strong> <code>function name (arg) { ... }</code></li> <li>坚持使用全等 <code>===</code> 摒弃 <code>==</code> 一但在需要检查 <code>null || undefined</code> 时可以使用 <code>obj == null</code>。</li> <li>一定要处理 Node.js 中错误回调传递进来的 <code>err</code> 参数。</li> <li>使用浏览器全局变量时加上 <code>window</code> 前缀 – <code>document</code> 和 <code>navigator</code> 除外
<ul><li>避免无意中使用到了这些命名看上去很普通的全局变量， <code>open</code>, <code>length</code>, <code>event</code> 还有 <code>name</code>。</li></ul></li></ul> <p>说了那么多，看看<a href="https://github.com/expressjs/body-parser/blob/master/index.js" target="_blank" rel="noopener noreferrer">这个遵循了 Standard 规范的示例文件<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 中的代码吧。或者，这里还有<a href="https://raw.githubusercontent.com/standard/standard-packages/master/all.json" target="_blank" rel="noopener noreferrer">一大波使用了此规范的项目<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 代码可供参考。</p> <h3 id="自定义代码规范"><a href="#自定义代码规范" aria-hidden="true" class="header-anchor">#</a> 自定义代码规范</h3> <p>我们项目中所使用的 <a href>JavaScript Standard Style</a> 代码规范是由大部分开发者所认可约定的。但是也难免有些开发者不喜欢，所以说规范虽然是死的，但是人是活的，我们可以按照自己的喜欢对原有规范做一些适当调整用以满足我们自己的风格。</p> <p>我们可以通过修改 ESLint 的配置文件 <code>.eslintrc.js</code> 中的 <code>rules</code> 来修改定制自己的规则。</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token comment">// ...</span>
  rules<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// allow async-await</span>
    <span class="token string">'generator-star-spacing'</span><span class="token punctuation">:</span> <span class="token string">'off'</span><span class="token punctuation">,</span>
    <span class="token comment">// allow debugger during development</span>
    <span class="token string">'no-debugger'</span><span class="token punctuation">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span> <span class="token operator">?</span> <span class="token string">'error'</span> <span class="token punctuation">:</span> <span class="token string">'off'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>rules</code> 是一个对象，其中对象的键为代码规则的代号，值为校验该规则的级别状态。</p> <p>规则的校验级别状态可以被设置为：</p> <ul><li>&quot;off&quot; or 0 - 关闭不校验</li> <li>&quot;warn&quot; or 1 - 警告</li> <li>&quot;error&quot; or 2 - 错误</li></ul> <p>例如我们修改校验规则必须有分号：</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token comment">// ...</span>
  rules<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// allow async-await</span>
    <span class="token string">'generator-star-spacing'</span><span class="token punctuation">:</span> <span class="token string">'off'</span><span class="token punctuation">,</span>
    <span class="token comment">// allow debugger during development</span>
    <span class="token string">'no-debugger'</span><span class="token punctuation">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span> <span class="token operator">?</span> <span class="token string">'error'</span> <span class="token punctuation">:</span> <span class="token string">'off'</span><span class="token punctuation">,</span>
    <span class="token string">'semi'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'always'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>完整版的校验规则列表参考，详见<a href="https://eslint.org/docs/rules/" target="_blank" rel="noopener noreferrer">官方文档 - Rules<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <p>也可以单独设定某一段代码的校验规则：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/* eslint-disable */</span>

<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* eslint-enable */</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/* eslint-disable no-alert, no-console */</span>

<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* eslint-enable no-alert, no-console */</span>
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>alert('foo'); /* eslint-disable-line no-alert */
</code></pre></div><blockquote><p>参考链接：</p> <ul><li><a href="https://eslint.org/docs/user-guide/configuring#configuring-rules" target="_blank" rel="noopener noreferrer">Configuring Rules<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://eslint.org/docs/user-guide/configuring#disabling-rules-with-inline-comments" target="_blank" rel="noopener noreferrer">Disabling Rules with Inline Comments<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></blockquote> <h3 id="加入-git-版本控制"><a href="#加入-git-版本控制" aria-hidden="true" class="header-anchor">#</a> 加入 Git 版本控制</h3> <p>初始化本地仓库并完成一次提交。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> init
<span class="token function">git</span> status
<span class="token function">git</span> add --all
<span class="token function">git</span> commit -m <span class="token string">&quot;:tada: Initial commit&quot;</span>
</code></pre></div><p>在 GitHub 上创建一个在线仓库。</p> <p>将本地项目推送到 GitHub。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> remote add origin https://github.com/你的GitHub用户名/admin-vue.git
<span class="token function">git</span> push -u origin master
</code></pre></div><h2 id="二、从登陆开始"><a href="#二、从登陆开始" aria-hidden="true" class="header-anchor">#</a> 二、从登陆开始</h2> <h3 id="基本登陆"><a href="#基本登陆" aria-hidden="true" class="header-anchor">#</a> 基本登陆</h3> <h3 id="使用路由导航守卫结合-token-处理视图访问拦截"><a href="#使用路由导航守卫结合-token-处理视图访问拦截" aria-hidden="true" class="header-anchor">#</a> 使用路由导航守卫结合 token 处理视图访问拦截</h3> <blockquote><p>参考链接：</p> <ul><li><a href="https://router.vuejs.org/zh-cn/advanced/navigation-guards.html" target="_blank" rel="noopener noreferrer">路由 - 导航守卫<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></blockquote> <div class="language-sequence extra-class"><pre class="language-text"><code>title: 基于 Token 的验证流程
participant 客户端 as client
participant 服务器 as server
client -&gt; server: 用户名+密码
server --&gt; client: Token 令牌
note over client: 将 Token 存储到本地
</code></pre></div><p>在 <code>src/components/login/script.js</code> 中登陆成功，将服务器下发的 <code>token</code> 保存到本地存储：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 其它代码...</span>

<span class="token function">handleLogin</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'http://localhost:8888/api/private/v1/login'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>loginForm<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> <span class="token punctuation">{</span>data<span class="token punctuation">,</span> meta<span class="token punctuation">}</span> <span class="token operator">=</span> res<span class="token punctuation">.</span>data
      <span class="token keyword">const</span> <span class="token punctuation">{</span>msg<span class="token punctuation">,</span> status<span class="token punctuation">}</span> <span class="token operator">=</span> meta

      <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 将凭证放到到本地存储（会在路由守卫那里使用）</span>
        window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">,</span> data<span class="token punctuation">.</span>token<span class="token punctuation">)</span>

        <span class="token comment">// 跳转到首页</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">===</span> <span class="token number">400</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        window<span class="token punctuation">.</span><span class="token function">alert</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 其它代码...</span>
</code></pre></div><p>在 <code>src/router/index.js</code> 中，添加全局路由导航守卫对非登陆请求进行登陆权限判定：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 其它代码...</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span>path<span class="token punctuation">}</span> <span class="token operator">=</span> to
  <span class="token keyword">if</span> <span class="token punctuation">(</span>path <span class="token operator">!==</span> <span class="token string">'/login'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 如果请求的不是 /login 则校验登陆状态</span>
    <span class="token keyword">const</span> token <span class="token operator">=</span> window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 如果没有 token 则让其跳转到 /login</span>
      <span class="token function">next</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment">// 有 token，让其通过</span>
      <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// 如果用户请求的就是 /login 则直接调用 next() 放行</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router

</code></pre></div><h3 id="导入-elementui"><a href="#导入-elementui" aria-hidden="true" class="header-anchor">#</a> 导入 ElementUI</h3> <blockquote><p>参考链接：</p> <ul><li><a href="http://element-cn.eleme.io" target="_blank" rel="noopener noreferrer">Element 官网<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></blockquote> <p>安装依赖：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 或者 npm install element-ui</span>
yarn add element-ui
</code></pre></div><p>在 <code>src/main.js</code> 中加载并配置：</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App'</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'./router'</span>
<span class="token keyword">import</span> ElementUI <span class="token keyword">from</span> <span class="token string">'element-ui'</span>
<span class="token keyword">import</span> <span class="token string">'element-ui/lib/theme-chalk/index.css'</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>ElementUI<span class="token punctuation">)</span>

Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span>

<span class="token comment">/* eslint-disable no-new */</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
  router<span class="token punctuation">,</span>
  components<span class="token punctuation">:</span> <span class="token punctuation">{</span> App <span class="token punctuation">}</span><span class="token punctuation">,</span>
  template<span class="token punctuation">:</span> <span class="token string">'&lt;App/&gt;'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre></div><h3 id="布局登陆组件"><a href="#布局登陆组件" aria-hidden="true" class="header-anchor">#</a> 布局登陆组件</h3> <blockquote><p>参考链接：</p> <ul><li><a href="http://element-cn.eleme.io/#/zh-CN/component/form" target="_blank" rel="noopener noreferrer">Element - Form表单<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></blockquote> <p>参考 Element 的 Form表单组件文档，我们先来个最简单的登陆表单。</p> <p>将 <code>src/components/login/template.html</code> 文件内容替换为：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form</span> <span class="token attr-name">:model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>loginForm<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>loginForm.username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>用户名<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>loginForm.password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>密码<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handleLogin<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>登陆<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>接下来我们开始调整登陆页面的样式。</p> <p>首先把公共样式写到 <code>src/assets/css/index.css</code> 文件中。</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">html, body, #app</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">body</span> <span class="token punctuation">{</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><p>然后在 <code>src/main.js</code> 加载：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 代码略...</span>

<span class="token comment">// 引入我们的公共样式</span>
<span class="token keyword">import</span> <span class="token string">'./assets/css/index.css'</span>

<span class="token comment">// 代码略...</span>

</code></pre></div><p>最后，我们分别调整登陆组件的HTML结构、及CSS样式：</p> <p><code>src/components/login/template.html</code>:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>login-wrap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>login-form<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form</span> <span class="token attr-name">:model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>loginForm<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>loginForm.username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>用户名<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>loginForm.password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>密码<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>login-submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handleLogin<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>登陆<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p><code>src/components/login/style.css</code>:</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.login-wrap</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #2d434c<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.login-wrap .login-form</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 50px 50px 20px 50px<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 25%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.login-wrap .login-form .login-submit</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="为登陆组件加入表单验证"><a href="#为登陆组件加入表单验证" aria-hidden="true" class="header-anchor">#</a> 为登陆组件加入表单验证</h3> <ol><li>为表单中需要验证的表单项 <code>el-form-item</code> 声明 <code>prop</code> 属性，属性值给一个有意义的名称</li></ol> <div class="language-html extra-class"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br></div><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>login-wrap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>login-form<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form</span> <span class="token attr-name">:model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>loginForm<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>loginForm.username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>用户名<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>loginForm.password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>密码<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>login-submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handleLogin<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>登陆<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ol start="2"><li>在组件的 <code>data</code> 中增加一个属性对象 <code>loginFormRule</code> 配置 <code>prop</code> 字段属性的验证规则</li></ol> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// ... 代码略</span>
  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      loginForm<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        username<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        password<span class="token punctuation">:</span> <span class="token string">''</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      loginFormRule<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        username<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span> required<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> message<span class="token punctuation">:</span> <span class="token string">'请输入用户名'</span><span class="token punctuation">,</span> trigger<span class="token punctuation">:</span> <span class="token string">'blur'</span> <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        password<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span> required<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> message<span class="token punctuation">:</span> <span class="token string">'请输入密码'</span><span class="token punctuation">,</span> trigger<span class="token punctuation">:</span> <span class="token string">'blur'</span> <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ... 代码略</span>
<span class="token punctuation">}</span>

</code></pre></div><ol start="3"><li>在登陆组件的模板中为 <code>el-form</code> 表单组件绑定 <code>rules</code> 属性到 <code>data</code> 中定义的 <code>loginFormRule</code></li></ol> <div class="language-html extra-class"><div class="highlight-lines"><br><br><div class="highlighted"> </div><br><br></div><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>login-wrap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>login-form<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form</span> <span class="token attr-name">:model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>loginForm<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:rules</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>loginFormRule<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    ... 代码略
</code></pre></div><ol start="4"><li>测试验证是否成功</li></ol> <p>我们在前面做的 1 - 4 步已经完成了基本的表单验证功能。接下来我们要在表单提交登陆发起请求的时候使用 JavaScript 校验是否通过表单验证，表单验证通过再去提交表单。</p> <p>首先为登陆组件模板的 <code>el-form</code> 组件声明 <code>ref</code> 属性，属性值给一个有意义的名字。</p> <div class="language-html extra-class"><div class="highlight-lines"><br><br><div class="highlighted"> </div><br><br></div><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>login-wrap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>login-form<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>form<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>loginForm<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:rules</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>loginFormRule<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    ... 代码略
</code></pre></div><p>然后在表单提交的时候调用 JavaScript 判断表单验证是否通过，通过再发起登陆请求。</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// ... 代码略</span>
  methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">handleLogin</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// ['form'] 中的 form 就是 el-form 标签 ref 属性值</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">[</span><span class="token string">'form'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">(</span>valid<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>valid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span>
        <span class="token punctuation">}</span>
        axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'http://localhost:8888/api/private/v1/login'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>loginForm<span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> <span class="token punctuation">{</span>data<span class="token punctuation">,</span> meta<span class="token punctuation">}</span> <span class="token operator">=</span> res<span class="token punctuation">.</span>data
            <span class="token keyword">const</span> <span class="token punctuation">{</span>msg<span class="token punctuation">,</span> status<span class="token punctuation">}</span> <span class="token operator">=</span> meta
            <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token comment">// 将凭证放到到本地存储（会在路由守卫那里使用）</span>
              window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">,</span> data<span class="token punctuation">.</span>token<span class="token punctuation">)</span>

              <span class="token comment">// 跳转到首页</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">===</span> <span class="token number">400</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              window<span class="token punctuation">.</span><span class="token function">alert</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// ... 代码略</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="使用-message-消息提示给出操作反馈"><a href="#使用-message-消息提示给出操作反馈" aria-hidden="true" class="header-anchor">#</a> 使用 Message 消息提示给出操作反馈</h3> <p>无论登陆成功还是登陆失败，我们都应该给出用户一个友好的提示。这里我们可以使用 Element 提供的 <a href="http://element-cn.eleme.io/#/zh-CN/component/message" target="_blank" rel="noopener noreferrer">Message 消息提示<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 组件来很方便的实现。</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// ... 代码略</span>
  methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">handleLogin</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// ['form'] 中的 form 就是 el-form 标签 ref 属性值</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">[</span><span class="token string">'form'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">(</span>valid<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>valid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span>
        <span class="token punctuation">}</span>
        axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'http://localhost:8888/api/private/v1/login'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>loginForm<span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> <span class="token punctuation">{</span>data<span class="token punctuation">,</span> meta<span class="token punctuation">}</span> <span class="token operator">=</span> res<span class="token punctuation">.</span>data
            <span class="token keyword">const</span> <span class="token punctuation">{</span>msg<span class="token punctuation">,</span> status<span class="token punctuation">}</span> <span class="token operator">=</span> meta
            <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token comment">// 将凭证放到到本地存储（会在路由守卫那里使用）</span>
              window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">,</span> data<span class="token punctuation">.</span>token<span class="token punctuation">)</span>

              <span class="token comment">// 跳转到首页</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span>

              <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$message</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                message<span class="token punctuation">:</span> <span class="token string">'登陆成功'</span><span class="token punctuation">,</span>
                type<span class="token punctuation">:</span> <span class="token string">'success'</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">===</span> <span class="token number">400</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>$message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// ... 代码略</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="三、home-组件处理"><a href="#三、home-组件处理" aria-hidden="true" class="header-anchor">#</a> 三、Home 组件处理</h2> <h3 id="布局-home-组件基本结构"><a href="#布局-home-组件基本结构" aria-hidden="true" class="header-anchor">#</a> 布局 Home 组件基本结构</h3> <p>这里我们可以使用 Element 组件库中的 <a href="http://element.eleme.io/#/zh-CN/component/container" target="_blank" rel="noopener noreferrer">Container 布局容器<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 实现基本结构。</p> <p><code>src/components/home/home.vue</code>：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-container</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-header</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Header<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-header</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-container</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-aside</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>aside<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>200px<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Aside<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-aside</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-main</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>main<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Main<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-main</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-container</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-container</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style language-css">
<span class="token selector">.header</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #b3c1cd<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.container, .aside, .main, .aside .nav-menu</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.aside</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #d4dfe4<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.main</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #eaeef1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="布局侧边栏"><a href="#布局侧边栏" aria-hidden="true" class="header-anchor">#</a> 布局侧边栏</h3> <p><code>src/components/home/home.vue</code>：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-container</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-header</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Header<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-header</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-container</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-aside</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>aside<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>200px<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu</span>
        <span class="token attr-name">default-active</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>nav-menu<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">unique-opened</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">@open</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handleOpen<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">@close</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handleClose<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">background-color</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>#545c64<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">text-color</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>#fff<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">active-text-color</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>#ffd04b<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-submenu</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>el-icon-location<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>用户管理<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>1-1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>用户列表<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-submenu</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-submenu</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>el-icon-location<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>权限管理<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>2-1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>角色列表<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>2-2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>权限列表<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-submenu</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-submenu</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>el-icon-location<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>商品管理<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>3-1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>商品列表<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>3-2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>分类参数<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>3-3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>商品分类<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-submenu</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-submenu</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>el-icon-location<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>订单管理<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>4-1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>订单列表<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-submenu</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-submenu</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>5<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>el-icon-location<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>数据统计<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>5-1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>数据报表<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-submenu</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-aside</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-main</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>main<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Main<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-main</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-container</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-container</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="布局-header-头部"><a href="#布局-header-头部" aria-hidden="true" class="header-anchor">#</a> 布局 Header 头部</h3> <p>这里我们使用的是 Element 组件库自带的 <a href="http://element.eleme.io/#/zh-CN/component/layout" target="_blank" rel="noopener noreferrer">Layout 布局<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 来完成 Header 组件基本样式结构。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-container</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-header</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-row</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-col</span> <span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>./logo.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>黑马程序员<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-col</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-col</span> <span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>16<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>电商后台管理系统<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-col</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-col</span> <span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>#<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>退出<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-col</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-row</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-header</span><span class="token punctuation">&gt;</span></span>
  ... 代码略
</code></pre></div><h3 id="处理用户退出"><a href="#处理用户退出" aria-hidden="true" class="header-anchor">#</a> 处理用户退出</h3> <p>首先为顶部的退出按钮注册一个点击事件处理函数：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-container</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-header</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-row</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-col</span> <span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>./logo.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>黑马程序员<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-col</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-col</span> <span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>16<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>电商后台管理系统<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-col</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-col</span> <span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">@click.prevent</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handleLogout<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>#<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>退出<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-col</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-row</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-header</span><span class="token punctuation">&gt;</span></span>
  ... 代码略
</code></pre></div><p><code>methods</code> 中 <code>handleLogout</code> 具体实现：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// ... 代码略</span>
<span class="token function">handleLogout</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$confirm</span><span class="token punctuation">(</span><span class="token string">'确认退出吗？'</span><span class="token punctuation">,</span> <span class="token string">'退出提示'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    confirmButtonText<span class="token punctuation">:</span> <span class="token string">'确定'</span><span class="token punctuation">,</span>
    cancelButtonText<span class="token punctuation">:</span> <span class="token string">'取消'</span><span class="token punctuation">,</span>
    type<span class="token punctuation">:</span> <span class="token string">'warning'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// 用户点击 确定 执行这里</span>
    <span class="token comment">// 1. 删除本地存储中的 token，也就是清除登陆状态</span>
    window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span>

    <span class="token comment">// 2. 跳转到 /login</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">)</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$message</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> <span class="token string">'success'</span><span class="token punctuation">,</span>
      message<span class="token punctuation">:</span> <span class="token string">'退出成功!'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// 用户点击 取消 执行这里</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$message</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> <span class="token string">'info'</span><span class="token punctuation">,</span>
      message<span class="token punctuation">:</span> <span class="token string">'已取消退出'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// ... 代码略</span>
</code></pre></div><hr> <h2 id="四、用户列表"><a href="#四、用户列表" aria-hidden="true" class="header-anchor">#</a> 四、用户列表</h2> <h3 id="添加用户列表组件并配置路由表"><a href="#添加用户列表组件并配置路由表" aria-hidden="true" class="header-anchor">#</a> 添加用户列表组件并配置路由表</h3> <ol><li>分别创建下面的四个文件</li></ol> <ul><li><code>src/components/user-list/user-list.vue</code></li> <li><code>src/components/user-list/template.html</code></li> <li><code>src/components/user-list/script.js</code></li> <li><code>src/components/user-list/style.css</code></li></ul> <p><code>src/components/user-list/template.html</code>:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>user-list component<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><code>src/components/user-list/user-list.vue</code>:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>./template.html<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>./script.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>./style.css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style language-css"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><ol start="2"><li>配置路由表</li></ol> <p><code>src/router/index.js</code>:</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token comment">// ... 代码略</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      path<span class="token punctuation">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
      component<span class="token punctuation">:</span> Home<span class="token punctuation">,</span>
      <span class="token comment">// 当渲染 children 组件的时候会先把 Home 组件渲染出来</span>
      <span class="token comment">// Home 组件找到根组件中的 router-view 出口替换渲染</span>
      <span class="token comment">// Home 组件的 children 子路由会渲染到 Home 组件内部的 router-view 出口</span>
      <span class="token comment">// 参考文档：https://router.vuejs.org/zh-cn/essentials/nested-routes.html</span>
      children<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          path<span class="token punctuation">:</span> <span class="token string">'/users'</span><span class="token punctuation">,</span>
          component<span class="token punctuation">:</span> UserList
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      path<span class="token punctuation">:</span> <span class="token string">'/login'</span><span class="token punctuation">,</span>
      component<span class="token punctuation">:</span> Login
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// ... 代码略</span>

</code></pre></div><ol start="3"><li>访问 <code>/users</code> 测试。</li></ol> <h3 id="在用户列表中使用表格组件"><a href="#在用户列表中使用表格组件" aria-hidden="true" class="header-anchor">#</a> 在用户列表中使用表格组件</h3> <blockquote><p>参考链接：</p> <ul><li><a href="http://element.eleme.io/#/zh-CN/component/table" target="_blank" rel="noopener noreferrer">Element - Table 表格<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></blockquote> <p><code>src/components/user-list/template.html</code>:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--
  表格组件的使用：
  el-table 组件
    data 用来绑定表格数据，是一个数组
    表格组件会根据 data 自动循环渲染
  el-table-column 组件就是表格列
    label 属性用来指定列的标题
    prop 属性用来指定 data 数组中元素项的某个属性
    width 用来设定表格列的宽度，默认单位是 px
 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table</span>
  <span class="token attr-name">:data</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tableData<span class="token punctuation">&quot;</span></span><span class="token style-attr language-css"><span class="token attr-name">
  <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">width</span><span class="token punctuation">:</span> 100%</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span>
    <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>date<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>日期<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>180<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span>
    <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>姓名<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>180<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span>
    <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>address<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>地址<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><code>src/components/user-list/script.js</code>:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      tableData<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        date<span class="token punctuation">:</span> <span class="token string">'2016-05-02'</span><span class="token punctuation">,</span>
        name<span class="token punctuation">:</span> <span class="token string">'王小虎'</span><span class="token punctuation">,</span>
        address<span class="token punctuation">:</span> <span class="token string">'上海市普陀区金沙江路 1518 弄'</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        date<span class="token punctuation">:</span> <span class="token string">'2016-05-04'</span><span class="token punctuation">,</span>
        name<span class="token punctuation">:</span> <span class="token string">'王小虎'</span><span class="token punctuation">,</span>
        address<span class="token punctuation">:</span> <span class="token string">'上海市普陀区金沙江路 1517 弄'</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        date<span class="token punctuation">:</span> <span class="token string">'2016-05-01'</span><span class="token punctuation">,</span>
        name<span class="token punctuation">:</span> <span class="token string">'王小虎'</span><span class="token punctuation">,</span>
        address<span class="token punctuation">:</span> <span class="token string">'上海市普陀区金沙江路 1519 弄'</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        date<span class="token punctuation">:</span> <span class="token string">'2016-05-03'</span><span class="token punctuation">,</span>
        name<span class="token punctuation">:</span> <span class="token string">'王小虎'</span><span class="token punctuation">,</span>
        address<span class="token punctuation">:</span> <span class="token string">'上海市普陀区金沙江路 1516 弄'</span>
      <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="在请求头中加入-token-请求用户列表"><a href="#在请求头中加入-token-请求用户列表" aria-hidden="true" class="header-anchor">#</a> 在请求头中加入 token 请求用户列表</h3> <p><code>src/components/user-list/script.js</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// ... 代码略</span>

  <span class="token function">created</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. 除了登陆接口，其它接口都需要 token 认证</span>
    <span class="token comment">// 2. 我们要做的就是按照服务器接口的要求，把 token 放到请求头的 Authorization 字段中</span>
    <span class="token comment">// 3. 对于接口中的查询字符串，我们可以通过 axios 请求的可选参数 params 来指定传递</span>
    <span class="token comment">//    params 对象就类似于我们之前使用的 $.ajax 中的 data 选项</span>
    <span class="token comment">//    params 对象最终会被转换为 key=value&amp;key=value 的格式字符串然后以 ? 分隔拼接到请求地址后面发起请求</span>
    <span class="token comment">//    这样做的好处就是不需要我们自己去 url 中拼 ?key=value&amp;key=value</span>
    <span class="token comment">// 服务器 API 除了登陆的接口是可以直接请求处理</span>
    <span class="token comment">// 其它所有的接口都必须提供登陆成功交换到的 token 发送给服务器才可以</span>
    <span class="token comment">// 我们这里服务器接口要求必须在请求头中通过一个名字为  Authorization 字段提供 token 令牌</span>
    axios<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'http://localhost:8888/api/private/v1/users'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      headers<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment">// headers 是 axios 的 API，固定的</span>
        <span class="token comment">// 需要授权的 API ，必须在请求头中使用 Authorization 字段提供 token 令牌</span>
        <span class="token comment">// Authorization 是服务器接口的要求，我们不能乱写</span>
        <span class="token comment">// 也就是说如果接口要求在头里面放一个 a 值为 token</span>
        <span class="token comment">// 则我们就要</span>
        <span class="token comment">//    a: window.localStorage.getItem('token')</span>
        Authorization<span class="token punctuation">:</span> window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      params<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment">// params 可以用来指定请求的查询字符串</span>
        pagenum<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 告诉接口服务器，我要获取第 1 页的数据</span>
        pagesize<span class="token punctuation">:</span> <span class="token number">5</span> <span class="token comment">// 告诉接口服务器，每页5条数据</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// ... 代码略</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="将请求得到的数据更新到用户列表表格中"><a href="#将请求得到的数据更新到用户列表表格中" aria-hidden="true" class="header-anchor">#</a> 将请求得到的数据更新到用户列表表格中</h3> <p><code>src/components/user-list/template.html</code>:</p> <div class="language-html extra-class"><div class="highlight-lines"><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br></div><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table</span>
    <span class="token attr-name">:data</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tableData<span class="token punctuation">&quot;</span></span><span class="token style-attr language-css"><span class="token attr-name">
    <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">width</span><span class="token punctuation">:</span> 100%</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span>
      <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>用户名<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>180<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span>
      <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>邮箱<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>180<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span>
      <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>mobile<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>电话<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>180<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p><code>src/components/user-list/script.js</code>:</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">created</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    axios<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'http://localhost:8888/api/private/v1/users'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      headers<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        Authorization<span class="token punctuation">:</span> window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      params<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        pagenum<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        pagesize<span class="token punctuation">:</span> <span class="token number">5</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span>data<span class="token punctuation">,</span> meta<span class="token punctuation">}</span> <span class="token operator">=</span> res<span class="token punctuation">.</span>data
        <span class="token keyword">if</span> <span class="token punctuation">(</span>meta<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>tableData <span class="token operator">=</span> data<span class="token punctuation">.</span>users
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      tableData<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="分页展示用户列表"><a href="#分页展示用户列表" aria-hidden="true" class="header-anchor">#</a> 分页展示用户列表</h3> <p><code>src/components/user-list/template.html</code>:</p> <div class="language-html extra-class"><div class="highlight-lines"><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br></div><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 表格列表 --&gt;</span>
  ... 代码略
  <span class="token comment">&lt;!-- /表格列表 --&gt;</span>

  <span class="token comment">&lt;!-- 数据分页 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-pagination</span>
    <span class="token attr-name">background</span>
    <span class="token attr-name">layout</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>prev, pager, next<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">:page-size</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">:total</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>total<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">@current-change</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handleCurrentChange<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-pagination</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- /数据分页 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p><code>src/components/user-list/script.js</code>:</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><div class="highlighted"> </div><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br></div><pre class="language-js"><code><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">created</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 页码第一次加载，显示第1页数据</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">loadUsersByPage</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      tableData<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      total<span class="token punctuation">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">handleCurrentChange</span> <span class="token punctuation">(</span>page<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 在页码改变的时候，请求加载该页码对应的数据</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">loadUsersByPage</span><span class="token punctuation">(</span>page<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function">loadUsersByPage</span> <span class="token punctuation">(</span>page<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      axios<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'http://localhost:8888/api/private/v1/users'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        headers<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          Authorization<span class="token punctuation">:</span> window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        params<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          pagenum<span class="token punctuation">:</span> page<span class="token punctuation">,</span>
          pagesize<span class="token punctuation">:</span> <span class="token number">2</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> <span class="token punctuation">{</span>data<span class="token punctuation">,</span> meta<span class="token punctuation">}</span> <span class="token operator">=</span> res<span class="token punctuation">.</span>data
          <span class="token keyword">if</span> <span class="token punctuation">(</span>meta<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>tableData <span class="token operator">=</span> data<span class="token punctuation">.</span>users
            <span class="token keyword">this</span><span class="token punctuation">.</span>total <span class="token operator">=</span> data<span class="token punctuation">.</span>total
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="用户列表搜索"><a href="#用户列表搜索" aria-hidden="true" class="header-anchor">#</a> 用户列表搜索</h3> <p><code>src/components/user-list/template.html</code>:</p> <div class="language-html extra-class"><div class="highlight-lines"><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-row</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-col</span> <span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>6<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>请输入内容<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>searchText<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>input-with-select<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>append<span class="token punctuation">&quot;</span></span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>el-icon-search<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handleSearch<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-col</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-row</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 表格列表 --&gt;</span>
  ... 代码略
  <span class="token comment">&lt;!-- /表格列表 --&gt;</span>

  <span class="token comment">&lt;!-- 数据分页 --&gt;</span>
  ... 代码略
  <span class="token comment">&lt;!-- /数据分页 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p><code>src/components/user-list/script.js</code>:</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br></div><pre class="language-js"><code><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">created</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 页码第一次加载，显示第1页数据</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">loadUsersByPage</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      tableData<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      total<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      searchText<span class="token punctuation">:</span> <span class="token string">''</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">handleCurrentChange</span> <span class="token punctuation">(</span>page<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 在页码改变的时候，请求加载该页码对应的数据</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">loadUsersByPage</span><span class="token punctuation">(</span>page<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function">loadUsersByPage</span> <span class="token punctuation">(</span>page<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      axios<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'http://localhost:8888/api/private/v1/users'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        headers<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          Authorization<span class="token punctuation">:</span> window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        params<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          pagenum<span class="token punctuation">:</span> page<span class="token punctuation">,</span>
          pagesize<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
          query<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>searchText  <span class="token comment">// query 参数可选，用来指定查询的筛选条件，这里的筛选条件是用户名</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> <span class="token punctuation">{</span>data<span class="token punctuation">,</span> meta<span class="token punctuation">}</span> <span class="token operator">=</span> res<span class="token punctuation">.</span>data
          <span class="token keyword">if</span> <span class="token punctuation">(</span>meta<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>tableData <span class="token operator">=</span> data<span class="token punctuation">.</span>users
            <span class="token keyword">this</span><span class="token punctuation">.</span>total <span class="token operator">=</span> data<span class="token punctuation">.</span>total
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 处理搜索
     */</span>
    <span class="token function">handleSearch</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 点击搜索，调用请求方法加载数据列表</span>
      <span class="token comment">// 请求方法中会去根据输入框中的内容进行搜索</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">loadUsersByPage</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="添加用户"><a href="#添加用户" aria-hidden="true" class="header-anchor">#</a> 添加用户</h3> <p><code>shop-admin/src/components/user-list/template.html</code>:</p> <div class="language-html extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br></div><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 面包屑 --&gt;</span>
  ... 代码略
  <span class="token comment">&lt;!-- /面包屑 --&gt;</span>

  <span class="token comment">&lt;!-- 搜索 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-row</span> <span class="token attr-name">:gutter</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>20<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-col</span> <span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>6<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>请输入内容<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>searchText<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>append<span class="token punctuation">&quot;</span></span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>el-icon-search<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handleSearch<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-col</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-col</span> <span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>dialogFormVisible = true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>添加用户<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-col</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-row</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- /搜索 --&gt;</span>

  <span class="token comment">&lt;!-- 表格列表 --&gt;</span>
  ... 代码略
  <span class="token comment">&lt;!-- /表格列表 --&gt;</span>

  <span class="token comment">&lt;!-- 数据分页 --&gt;</span>
  ... 代码略
  <span class="token comment">&lt;!-- /数据分页 --&gt;</span>

  <span class="token comment">&lt;!-- 添加用户对话框 --&gt;</span>
  <span class="token comment">&lt;!--
    el-dialog 是对话框组件
      visible 属性需要绑定一个布尔值，对话框会根据布尔值的真假来决定显示与隐藏
   --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dialog</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>添加用户<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:visible.sync</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>dialogFormVisible<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>form<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>addUserForm<span class="token punctuation">&quot;</span></span> <span class="token attr-name">label-position</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>left<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>small<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:rules</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>formRule<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>用户名<span class="token punctuation">&quot;</span></span> <span class="token attr-name">label-width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>80px<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>addUserForm.username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">auto-complete</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>off<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>密码<span class="token punctuation">&quot;</span></span> <span class="token attr-name">label-width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>80px<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>addUserForm.password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">auto-complete</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>off<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>邮箱<span class="token punctuation">&quot;</span></span> <span class="token attr-name">label-width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>80px<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>addUserForm.email<span class="token punctuation">&quot;</span></span> <span class="token attr-name">auto-complete</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>off<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>电话<span class="token punctuation">&quot;</span></span> <span class="token attr-name">label-width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>80px<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>mobile<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>addUserForm.mobile<span class="token punctuation">&quot;</span></span> <span class="token attr-name">auto-complete</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>off<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>footer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>dialog-footer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>dialogFormVisible = false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>取 消<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handleAddUser<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>确 定<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dialog</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 添加用户对话框 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p><code>src/components/user-list/script.js</code>:</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">created</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">loadUsersByPage</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      tableData<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      total<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      searchText<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      dialogFormVisible<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      addUserForm<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        username<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        password<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        email<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        mobile<span class="token punctuation">:</span> <span class="token string">''</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      formRule<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        username<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>required<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> message<span class="token punctuation">:</span> <span class="token string">'请输入用户名'</span><span class="token punctuation">,</span> trigger<span class="token punctuation">:</span> <span class="token string">'blur'</span><span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        password<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>required<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> message<span class="token punctuation">:</span> <span class="token string">'请输入密码'</span><span class="token punctuation">,</span> trigger<span class="token punctuation">:</span> <span class="token string">'blur'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>min<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> max<span class="token punctuation">:</span> <span class="token number">16</span><span class="token punctuation">,</span> message<span class="token punctuation">:</span> <span class="token string">'密码为 3 - 16 位长度'</span><span class="token punctuation">,</span> trigger<span class="token punctuation">:</span> <span class="token string">'blur'</span><span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        email<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span> required<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> message<span class="token punctuation">:</span> <span class="token string">'请输入用户名'</span><span class="token punctuation">,</span> trigger<span class="token punctuation">:</span> <span class="token string">'blur'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">'email'</span><span class="token punctuation">,</span> message<span class="token punctuation">:</span> <span class="token string">'请输入正确的邮箱'</span><span class="token punctuation">,</span> trigger<span class="token punctuation">:</span> <span class="token string">'blur'</span> <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        mobile<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span> required<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> message<span class="token punctuation">:</span> <span class="token string">'请输入手机号'</span><span class="token punctuation">,</span> trigger<span class="token punctuation">:</span> <span class="token string">'blur'</span> <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// ... 代码略</span>
    <span class="token comment">// ... 代码略</span>

    <span class="token comment">/**
     * 添加用户
     */</span>
    <span class="token function">handleAddUser</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        method<span class="token punctuation">:</span> <span class="token string">'post'</span><span class="token punctuation">,</span>
        url<span class="token punctuation">:</span> <span class="token string">'http://localhost:8888/api/private/v1/users'</span><span class="token punctuation">,</span>
        data<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>addUserForm<span class="token punctuation">,</span>
        headers<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          Authorization<span class="token punctuation">:</span> window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">201</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$message</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            type<span class="token punctuation">:</span> <span class="token string">'success'</span><span class="token punctuation">,</span>
            message<span class="token punctuation">:</span> <span class="token string">'添加用户成功'</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>

          <span class="token comment">// 关闭对话框</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>dialogFormVisible <span class="token operator">=</span> <span class="token boolean">false</span>

          <span class="token comment">// 清空表单</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">[</span><span class="token string">'form'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">resetFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// ... 代码略</span>
    <span class="token comment">// ... 代码略</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="修改用户状态"><a href="#修改用户状态" aria-hidden="true" class="header-anchor">#</a> 修改用户状态</h3> <h3 id="删除用户"><a href="#删除用户" aria-hidden="true" class="header-anchor">#</a> 删除用户</h3> <h3 id="编辑用户"><a href="#编辑用户" aria-hidden="true" class="header-anchor">#</a> 编辑用户</h3> <hr> <h2 id="将-axios-扩展为-vue-插件"><a href="#将-axios-扩展为-vue-插件" aria-hidden="true" class="header-anchor">#</a> 将 axios 扩展为 Vue 插件</h2> <blockquote><p>为 Vue 扩展插件：https://cn.vuejs.org/v2/guide/plugins.html</p></blockquote> <p>我们在使用 axios 的时候遇到了一些问题：</p> <ul><li>请求路径</li> <li>每一次都要 import 载入</li> <li>所有需要授权的 API 都要配置请求头 Token
<ul><li>利用请求拦截器，参考文档：https://github.com/axios/axios#interceptors</li></ul></li></ul> <p><img src="/assets/img/http-guard.8b957287.png" alt="请求拦截器"></p> <p>在 <code>src/assets/js/http.js</code>:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>getToken<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./auth'</span>

<span class="token keyword">const</span> http <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  baseURL<span class="token punctuation">:</span> <span class="token string">'http://localhost:8888/api/private/v1/'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 我们这里使用 http 请求拦截器的目的是为了解决：每次请求需要授权的API手动在请求头中加 Token 令牌的问题</span>
<span class="token comment">// 添加请求拦截器</span>
<span class="token comment">// 拦截器的本身就是一个方法</span>
<span class="token comment">// 该方法什么时候执行？</span>
<span class="token comment">// 拦截器函数接收一个参数 config</span>
<span class="token comment">// config 就是你当前请求的配置对象</span>
<span class="token comment">// 当你使用 axios 发起请求的时候，那么就会先经过这个拦截器然后再发出请求</span>
<span class="token comment">// 也就是说在请求拦截器内部的请求还没有发出去</span>
<span class="token comment">// 我们可以在这里定制请求之前的行为</span>
http<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>config<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 如果本次请求的不是 /login 接口，则我们就加入请求头</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>config<span class="token punctuation">.</span>url <span class="token operator">!==</span> <span class="token string">'/login'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    config<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'Authorization'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// return config 就好比 next() 允许通过</span>
  <span class="token comment">// 通过之后才要真正的发起请求</span>
  <span class="token keyword">return</span> config
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 当请求出错的时候会调用到第二个参数函数</span>
  <span class="token comment">// Do something with request error</span>
  <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 建议通过定义插件的配置来扩展 Vue 本身</span>
<span class="token comment">// 1. 定义一个插件对象</span>
<span class="token keyword">const</span> httpPlugin <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// 2. 为插件对象添加一个成员：install</span>
<span class="token comment">//    install 是一个函数</span>
<span class="token comment">//    该函数接收两个参数：Vue、options</span>
<span class="token comment">//</span>
<span class="token comment">//   Vue.use(httpPlugin) 会来调用 install 方法</span>
httpPlugin<span class="token punctuation">.</span><span class="token function-variable function">install</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>Vue<span class="token punctuation">,</span> options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 3. 添加实例方法</span>
  Vue<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$http <span class="token operator">=</span> http
<span class="token punctuation">}</span>

<span class="token comment">// 4. 导出插件对象</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> httpPlugin

<span class="token comment">// 5. 在入门文件模块 main.js 加载使插件生效</span>
<span class="token comment">// Vue.use(httpPlugin)</span>

</code></pre></div><p>然后在 <code>src/main.js</code> 文件中加载插件使之生效：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// ...代码略</span>
<span class="token keyword">import</span> httpPlugin <span class="token keyword">from</span> <span class="token string">'@/assets/js/http'</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>httpPlugin<span class="token punctuation">)</span>
<span class="token comment">// ...代码略</span>
</code></pre></div><p>接下来我们就可以在组件中直接通过 <code>this.$http</code> 来使用 <code>axios</code> 了。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token function">created</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...代码略</span>
  <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$http<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/users'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...代码略</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// ...代码略</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="二、用户管理"><a href="#二、用户管理" aria-hidden="true" class="header-anchor">#</a> 二、用户管理</h2> <ol><li>创建用户列表组件</li> <li><strong>配路由表（重点：子路由）</strong></li> <li>处理侧边栏导航</li> <li>布局用户列表组件</li> <li>请求用户列表数据，渲染到用户列表组件
<ol><li>发请求，得到数据</li> <li>处理数据，渲染到组件模板</li></ol></li></ol> <h3 id="表格列表渲染"><a href="#表格列表渲染" aria-hidden="true" class="header-anchor">#</a> 表格列表渲染</h3> <p>我们可以直接在用户列表组件的 <code>created</code> 生命钩子函数中发起请求加载表格数据：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token keyword">async</span> <span class="token function">created</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$http<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/users'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      params<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment">// 请求参数，对象会被转换为 k=v&amp;k=v 的格式，然后拼接到请求路径 ? 后面发起请求</span>
        pagenum<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        pagesize<span class="token punctuation">:</span> <span class="token number">2</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span>users<span class="token punctuation">}</span> <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data
    <span class="token keyword">this</span><span class="token punctuation">.</span>tableData <span class="token operator">=</span> users
  <span class="token punctuation">}</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="分页处理"><a href="#分页处理" aria-hidden="true" class="header-anchor">#</a> 分页处理</h3> <p>首先我们把接口返回的 <code>total</code> 总记录数交给分页插件帮我们完成页码分页：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token keyword">async</span> <span class="token function">created</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$http<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/users'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      params<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment">// 请求参数，对象会被转换为 k=v&amp;k=v 的格式，然后拼接到请求路径 ? 后面发起请求</span>
        pagenum<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        pagesize<span class="token punctuation">:</span> <span class="token number">2</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span>users<span class="token punctuation">,</span> total<span class="token punctuation">}</span> <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data
    <span class="token keyword">this</span><span class="token punctuation">.</span>tableData <span class="token operator">=</span> users
  <span class="token punctuation">}</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>

</code></pre></div><p>我们发现分页插件已经根据我们给定的每页大小以及总记录数完成了分页页码功能。</p> <p>接下来我们来处理点击页码加载对应页码数据的功能。这里我们可以使用分页插件提供的 <code>current-change</code> 事件，在该事件处理函数中我们可以接收到分页插件传递给我们的当前页码。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">handleCurrentChange</span> <span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 页码改变的时候，该函数会被调用，并得到当前页码</span>
      <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$http<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/users'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        params<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          pagenum<span class="token punctuation">:</span> val<span class="token punctuation">,</span> <span class="token comment">// 将当前页码传递给服务器接口</span>
          pagesize<span class="token punctuation">:</span> <span class="token number">2</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token keyword">const</span> <span class="token punctuation">{</span>users<span class="token punctuation">,</span> total<span class="token punctuation">}</span> <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data
      <span class="token keyword">this</span><span class="token punctuation">.</span>tableData <span class="token operator">=</span> users
      <span class="token keyword">this</span><span class="token punctuation">.</span>total <span class="token operator">=</span> total
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>

</code></pre></div><p>我们已经发现 <code>created</code> 钩子函数中加载用户列表数据和 <code>handleCurrentChange()</code> 函数中的代码已经几乎一样了。所以我们可以封装一个函数用来根据页码加载对应的分页数据，然后分别在 <code>created</code> 钩子和 <code>handleCurrentChange()</code> 函数中进行调用。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">created</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 组件初始化默认加载第1页数据</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">loadUsersByPage</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">handleCurrentChange</span> <span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 页码改变的时候获取当前页码数据</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">loadUsersByPage</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">loadUsersByPage</span> <span class="token punctuation">(</span>page<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 页码改变的时候，该函数会被调用，并得到当前页码</span>
      <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$http<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/users'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        params<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          pagenum<span class="token punctuation">:</span> page<span class="token punctuation">,</span>
          pagesize<span class="token punctuation">:</span> <span class="token number">2</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token keyword">const</span> <span class="token punctuation">{</span>users<span class="token punctuation">,</span> total<span class="token punctuation">}</span> <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data
      <span class="token keyword">this</span><span class="token punctuation">.</span>tableData <span class="token operator">=</span> users
      <span class="token keyword">this</span><span class="token punctuation">.</span>total <span class="token operator">=</span> total
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>

</code></pre></div><p>处理完页码改变加载对应页码数据之后，接下来我们看一下如何实现分页插件的动态切换页码大小改变功能。</p> <p>我们可以看到分页插件同时为页码大小改变提供了一个自定义事件 <code>size-change</code>。在该事件处理函数中我们可以动态的接收到当前用户选择的每页页码大小。</p> <p>接下来我们稍微改造一下 <code>loadUsersByPage()</code> 函数，并在 <code>size-change</code> 事件绑定的 <code>handleSizeChange</code> 函数中调用。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">created</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 组件初始化默认加载第1页数据</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">loadUsersByPage</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">handleCurrentChange</span> <span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 页码改变的时候获取当前页码数据</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">loadUsersByPage</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">handleSizeChange</span> <span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// val 就是当前用户选择的每页大小</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">loadUsersByPage</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">loadUsersByPage</span> <span class="token punctuation">(</span>page<span class="token punctuation">,</span> pageSize <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 加入了一个新的动态参数 pageSize 用来指定每页大小，默认为 2</span>
      <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$http<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/users'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        params<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          pagenum<span class="token punctuation">:</span> page<span class="token punctuation">,</span>
          pagesize<span class="token punctuation">:</span> pageSize
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token keyword">const</span> <span class="token punctuation">{</span>users<span class="token punctuation">,</span> total<span class="token punctuation">}</span> <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data
      <span class="token keyword">this</span><span class="token punctuation">.</span>tableData <span class="token operator">=</span> users
      <span class="token keyword">this</span><span class="token punctuation">.</span>total <span class="token operator">=</span> total
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>

</code></pre></div><p>让我们来测试一下，我们发现切换每页大小确实已经可以实现我们想要的功能了。</p> <p>😄😄😄</p> <p>😄😄😄</p> <p>😄😄😄</p> <p>等等，我们发现页码大小改变之后，点击页码，加载的始终是 2 条数据。</p> <p>这是为啥？</p> <p>哦，因为我们在 <code>loadUsersByPage()</code> 函数中设定的 <code>pageSize</code> 默认大小就是 2。而无论改变之前还是改变之后，页码的改变都是在调用该函数，页码改变的时候调用该函数并没有指定当前用户选择的<strong>最新每页大小</strong>。</p> <p>原来是这样的。</p> <p>好吧，接下来我们可以在 <code>data</code> 中添加一个成员 <code>pageSize</code> 用来存储我们当前的每页大小。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      searchText<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      tableData <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      total<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      pageSize<span class="token punctuation">:</span> <span class="token number">2</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">created</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 组件初始化默认加载第1页数据</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">loadUsersByPage</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">handleCurrentChange</span> <span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 页码改变的时候获取当前页码数据</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">loadUsersByPage</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">handleSizeChange</span> <span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// val 就是当前用户选择的每页大小</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>pageSize <span class="token operator">=</span> val <span class="token comment">// 将改变之后的每页大小实时的存储起来</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">loadUsersByPage</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">loadUsersByPage</span> <span class="token punctuation">(</span>page<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 加入了一个新的动态参数 pageSize 用来指定每页大小，默认为 2</span>
      <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$http<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/users'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        params<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          pagenum<span class="token punctuation">:</span> page<span class="token punctuation">,</span>
          pagesize<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pageSize <span class="token comment">// 该数据是动态的，在 data 中默认为 2，当用户点击切换每页大小的时候会修改该数据</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token keyword">const</span> <span class="token punctuation">{</span>users<span class="token punctuation">,</span> total<span class="token punctuation">}</span> <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data
      <span class="token keyword">this</span><span class="token punctuation">.</span>tableData <span class="token operator">=</span> users
      <span class="token keyword">this</span><span class="token punctuation">.</span>total <span class="token operator">=</span> total
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>

</code></pre></div><p>至此我们终于完成了每页大小改变并动态加载对应的页码大小数据。</p> <p>但是！</p> <p>还没有结束😎😂</p> <p>我们发现每页大小改变之后我们会让页码从第1页开始加载，但是我们的页码高亮状态并没有回归到第1页。</p> <p>好吧，我们继续。</p> <p>我们看到分页插件有一个 <code>current-page</code> 属性，我们可以使用该属性告诉分页插件让哪个页码高亮，我们可以分别尝试给定1、2、3 查看页码高亮的样式是否会发生变化。</p> <p>接下来我们就利用 <code>current-page</code> 属性修正页码高亮问题。</p> <p>首先在 <code>data</code> 中添加一个成员 <code>currentPage</code>，然后在分页插件模板中同步绑定 <code>currentPage</code>。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-pagination</span>
      <span class="token attr-name">@size-change</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handleSizeChange<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">@current-change</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handleCurrentChange<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:current-page.sync</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>currentPage<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:page-sizes</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>[1, 2]<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">layout</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>total, sizes, prev, pager, next, jumper<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:total</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>totalSize<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-pagination</span><span class="token punctuation">&gt;</span></span>
  ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
        currentPage<span class="token punctuation">:</span> <span class="token number">1</span>
        <span class="token comment">// ...</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>我们通过调试工具发现，每页分页页码改变，我们的数据成员 <code>currentPage</code> 也会随之同步改变。</p> <p>最后，让我们在 <code>handleSizeChange()</code> 函数中加载用户列表完成之后，手动将 <code>currentPage</code> 指定为 1。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token function">handleSizeChange</span> <span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// val 就是当前用户选择的每页大小</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>pageSize <span class="token operator">=</span> val <span class="token comment">// 将改变之后的每页大小实时的存储起来</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">loadUsersByPage</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>currentPage <span class="token operator">=</span> <span class="token number">1</span> <span class="token comment">// 将当前页码设定为 1</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>

</code></pre></div><p>恭喜，终于使用分页插件完成了我们想要的分页功能。过程虽然麻烦，但是我们的前途一片光明。共勉！！！😄😄😄</p> <h3 id="列表搜索"><a href="#列表搜索" aria-hidden="true" class="header-anchor">#</a> 列表搜索</h3> <ul><li><p>业务分析</p></li> <li><p>接口测试</p></li> <li><p>绑定点击搜索事件处理函数</p></li> <li><p>调用加载用户列表数据方法</p></li></ul> <h3 id="修改用户状态-2"><a href="#修改用户状态-2" aria-hidden="true" class="header-anchor">#</a> 修改用户状态</h3> <ul><li><p>业务分析</p></li> <li><p>接口测试</p></li> <li><p><a href="http://element-cn.eleme.io/#/zh-CN/component/switch" target="_blank" rel="noopener noreferrer">Switch 开关<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 的 change 事件</p></li> <li><p>自定义事件绑定传参</p></li></ul> <h3 id="添加用户-2"><a href="#添加用户-2" aria-hidden="true" class="header-anchor">#</a> 添加用户</h3> <ul><li><p>业务分析</p></li> <li><p>接口测试</p></li> <li><p><a href="http://element-cn.eleme.io/#/zh-CN/component/dialog" target="_blank" rel="noopener noreferrer">DIalog 对话框<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>表单布局 + 数据绑定</p></li> <li><p>提交表单添加用户</p></li> <li><p>添加用户成功，重新加载用户列表</p></li></ul> <h3 id="删除用户-2"><a href="#删除用户-2" aria-hidden="true" class="header-anchor">#</a> 删除用户</h3> <ul><li><p>业务分析</p></li> <li><p>接口测试</p></li> <li><p>注册点击删除事件处理函数</p></li> <li><p>使用 <a href="http://element-cn.eleme.io/#/zh-CN/component/message-box" target="_blank" rel="noopener noreferrer">MessageBox 弹框<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 给出删除操作提示</p></li> <li><p>根据用户 id 执行删除操作</p></li> <li><p>删除成功，重新加载当前分页数据</p></li></ul> <h3 id="编辑用户-2"><a href="#编辑用户-2" aria-hidden="true" class="header-anchor">#</a> 编辑用户</h3> <ul><li><p>业务分析</p></li> <li><p>接口测试</p></li> <li><p>注册点击编辑时间处理函数</p></li> <li><p>使用 <a href="http://element-cn.eleme.io/#/zh-CN/component/dialog" target="_blank" rel="noopener noreferrer">Dialog 对话框<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 弹出编辑窗口</p></li> <li><p>将要编辑的用户信息渲染到编辑窗口中</p></li> <li><p>处理编辑操作</p></li></ul> <h3 id="角色分配"><a href="#角色分配" aria-hidden="true" class="header-anchor">#</a> 角色分配</h3> <ul><li>业务分析
<ul><li>0 为超管，只有超管才可以设置用户的状态</li> <li>-1 为没有角色的用户</li></ul></li> <li>接口测试</li> <li>功能实现</li></ul> <h3 id="动态加载侧边栏操作菜单"><a href="#动态加载侧边栏操作菜单" aria-hidden="true" class="header-anchor">#</a> 动态加载侧边栏操作菜单</h3> <ul><li>业务分析</li> <li>接口测试</li> <li>功能实现</li></ul> <h2 id="三、权限管理"><a href="#三、权限管理" aria-hidden="true" class="header-anchor">#</a> 三、权限管理</h2> <ul><li>权限管理就是让登陆系统的不同角色拥有不同操作权限。</li> <li>权限</li> <li>角色</li> <li>用户</li></ul> <h3 id="权限列表"><a href="#权限列表" aria-hidden="true" class="header-anchor">#</a> 权限列表</h3> <ul><li>业务分析</li> <li>接口测试</li> <li>功能实现</li></ul> <p><img src="data:image/png;base64,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" alt="查看角色的权限列表"></p> <h4 id="布局"><a href="#布局" aria-hidden="true" class="header-anchor">#</a> 布局</h4> <ul><li><a href="http://element-cn.eleme.io/#/zh-CN/component/breadcrumb" target="_blank" rel="noopener noreferrer">Breadcrumb 面包屑<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="http://element-cn.eleme.io/#/zh-CN/component/table" target="_blank" rel="noopener noreferrer">Table 表格<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h4 id="功能实现"><a href="#功能实现" aria-hidden="true" class="header-anchor">#</a> 功能实现</h4> <ul><li>请求拿数据</li> <li>设计表格列</li> <li>自定义表格列</li> <li>loading</li></ul> <h4 id="最终代码"><a href="#最终代码" aria-hidden="true" class="header-anchor">#</a> 最终代码</h4> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>list-wrap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-breadcrumb</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>list-breadcrumd<span class="token punctuation">&quot;</span></span> <span class="token attr-name">separator-class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>el-icon-arrow-right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-breadcrumb-item</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{ path: <span class="token punctuation">'</span>/<span class="token punctuation">'</span> }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>首页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-breadcrumb-item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-breadcrumb-item</span><span class="token punctuation">&gt;</span></span>权限管理<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-breadcrumb-item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-breadcrumb-item</span><span class="token punctuation">&gt;</span></span>权限列表<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-breadcrumb-item</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-breadcrumb</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table</span>
    <span class="token attr-name">:data</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tableData<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">v-loading</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>loading<span class="token punctuation">&quot;</span></span><span class="token style-attr language-css"><span class="token attr-name">
    <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">width</span><span class="token punctuation">:</span> 100%</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span>
      <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">index</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span>
      <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>authName<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>权限名称<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>180<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span>
      <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>path<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>路径<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>180<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span>
      <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>层级<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!--
        自定义表格列：
        1. 在表格列中加一个 template 标签，写上 slot-scope=&quot;scope&quot;
            slot-scope=&quot;scope&quot; 的值 scope 可以是任何名字，它表示当前遍历的作用域对象
            该作用域对象中有一个属性 row 可以用来获取当前行对象，也就是数组的每一项
        2. 在 template 中自定义你想要的内容列表
           我们在 template 里面就可以使用 scope.row 来获取数据成员
       --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">slot-scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>scope<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>scope.row.level === <span class="token punctuation">'</span>0<span class="token punctuation">'</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>一级<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-else-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>scope.row.level === <span class="token punctuation">'</span>1<span class="token punctuation">'</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>二级<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-else-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>scope.row.level === <span class="token punctuation">'</span>2<span class="token punctuation">'</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>三级<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">created</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">loadRights</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      tableData<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      loading<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token comment">// 默认 loading 状态</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token keyword">async</span> <span class="token function">loadRights</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$http<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/rights/list'</span><span class="token punctuation">)</span>
      <span class="token keyword">const</span> <span class="token punctuation">{</span>data<span class="token punctuation">,</span> meta<span class="token punctuation">}</span> <span class="token operator">=</span> res<span class="token punctuation">.</span>data
      <span class="token keyword">if</span> <span class="token punctuation">(</span>meta<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>tableData <span class="token operator">=</span> data
        <span class="token keyword">this</span><span class="token punctuation">.</span>loading <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token comment">// 数据加载完成，取消 loading 状态</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style language-css">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><h3 id="角色列表"><a href="#角色列表" aria-hidden="true" class="header-anchor">#</a> 角色列表</h3> <ul><li>业务分析</li> <li>接口测试</li> <li>功能实现</li></ul> <h4 id="布局-2"><a href="#布局-2" aria-hidden="true" class="header-anchor">#</a> 布局</h4> <ul><li>面包屑</li> <li>栅格行</li> <li>表格</li></ul> <h4 id="功能实现-2"><a href="#功能实现-2" aria-hidden="true" class="header-anchor">#</a> 功能实现</h4> <ul><li>角色列表</li> <li>角色权限标签</li></ul> <h3 id="添加角色"><a href="#添加角色" aria-hidden="true" class="header-anchor">#</a> 添加角色</h3> <ul><li>业务分析</li> <li>接口测试</li> <li>功能实现</li></ul> <h3 id="删除角色"><a href="#删除角色" aria-hidden="true" class="header-anchor">#</a> 删除角色</h3> <ul><li>业务分析</li> <li>接口测试</li> <li>功能实现</li></ul> <h3 id="修改角色"><a href="#修改角色" aria-hidden="true" class="header-anchor">#</a> 修改角色</h3> <ul><li>业务分析</li> <li>接口测试</li> <li>功能实现</li></ul> <h3 id="删除角色指定权限"><a href="#删除角色指定权限" aria-hidden="true" class="header-anchor">#</a> 删除角色指定权限</h3> <ul><li>业务分析</li> <li>接口测试</li> <li>功能实现</li></ul> <h3 id="角色授权"><a href="#角色授权" aria-hidden="true" class="header-anchor">#</a> 角色授权</h3> <ul><li>业务分析</li> <li>接口测试</li> <li>功能实现</li></ul> <ol><li>点击授权角色弹出授权对话框</li> <li>分析使用 <a href="http://element-cn.eleme.io/#/zh-CN/component/tree" target="_blank" rel="noopener noreferrer">Tree 树形控件<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>将权限列表数据展示到树形控件中</li> <li>将角色拥有的权限默认选中</li> <li>保存授权更新</li></ol> <p><img src="/assets/img/role-rights-tree.74d14c81.png" alt="角色授权.png"></p> <h2 id="四、商品分类管理"><a href="#四、商品分类管理" aria-hidden="true" class="header-anchor">#</a> 四、商品分类管理</h2> <h3 id="分类列表展示"><a href="#分类列表展示" aria-hidden="true" class="header-anchor">#</a> 分类列表展示</h3> <ul><li>业务分析</li> <li>接口测试</li> <li>功能实现</li> <li><a href="https://github.com/foolishchow/element-tree-grid" target="_blank" rel="noopener noreferrer">element-tree-grid<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token property">&quot;label&quot;</span><span class="token operator">:</span><span class="token string">&quot;System&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;parent_id&quot;</span><span class="token operator">:</span><span class="token null">null</span><span class="token punctuation">,</span><span class="token property">&quot;url&quot;</span><span class="token operator">:</span><span class="token null">null</span><span class="token punctuation">,</span><span class="token property">&quot;depth&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;child_num&quot;</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token property">&quot;description&quot;</span><span class="token operator">:</span><span class="token string">&quot;System Manager&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token property">&quot;label&quot;</span><span class="token operator">:</span><span class="token string">&quot;Customs&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;parent_id&quot;</span><span class="token operator">:</span><span class="token null">null</span><span class="token punctuation">,</span><span class="token property">&quot;url&quot;</span><span class="token operator">:</span><span class="token null">null</span><span class="token punctuation">,</span><span class="token property">&quot;depth&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;child_num&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token property">&quot;description&quot;</span><span class="token operator">:</span><span class="token string">&quot;Custom Manager&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token property">&quot;label&quot;</span><span class="token operator">:</span><span class="token string">&quot;Templates&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;parent_id&quot;</span><span class="token operator">:</span><span class="token null">null</span><span class="token punctuation">,</span><span class="token property">&quot;url&quot;</span><span class="token operator">:</span><span class="token null">null</span><span class="token punctuation">,</span><span class="token property">&quot;depth&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;child_num&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token property">&quot;description&quot;</span><span class="token operator">:</span><span class="token string">&quot;Template Manager&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token property">&quot;label&quot;</span><span class="token operator">:</span><span class="token string">&quot;Bussiness&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;parent_id&quot;</span><span class="token operator">:</span><span class="token null">null</span><span class="token punctuation">,</span><span class="token property">&quot;url&quot;</span><span class="token operator">:</span><span class="token null">null</span><span class="token punctuation">,</span><span class="token property">&quot;depth&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token property">&quot;child_num&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token property">&quot;description&quot;</span><span class="token operator">:</span><span class="token string">&quot;Bussiness Manager&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="添加分类"><a href="#添加分类" aria-hidden="true" class="header-anchor">#</a> 添加分类</h3> <ul><li>业务分析</li> <li>接口分析测试</li> <li>功能开发</li></ul> <h3 id="删除分类"><a href="#删除分类" aria-hidden="true" class="header-anchor">#</a> 删除分类</h3> <ul><li>业务分析</li> <li>接口分析测试</li> <li>功能开发</li></ul> <h3 id="编辑分类"><a href="#编辑分类" aria-hidden="true" class="header-anchor">#</a> 编辑分类</h3> <ul><li>业务分析</li> <li>接口分析测试</li> <li>功能开发</li></ul> <h2 id="商品管理"><a href="#商品管理" aria-hidden="true" class="header-anchor">#</a> 商品管理</h2> <h3 id="商品列表"><a href="#商品列表" aria-hidden="true" class="header-anchor">#</a> 商品列表</h3> <h3 id="添加商品"><a href="#添加商品" aria-hidden="true" class="header-anchor">#</a> 添加商品</h3> <ul><li>业务介绍</li> <li>接口分析</li></ul> <h3 id="编辑商品"><a href="#编辑商品" aria-hidden="true" class="header-anchor">#</a> 编辑商品</h3> <h3 id="删除商品"><a href="#删除商品" aria-hidden="true" class="header-anchor">#</a> 删除商品</h3> <h2 id="项目打包"><a href="#项目打包" aria-hidden="true" class="header-anchor">#</a> 项目打包</h2> <ul><li><code>npm run build</code></li> <li>路由懒加载
<ul><li>当我们自己写 JavaScript 越来越多的时候，最后打包产出的 app.js 会过大</li> <li>好处：第一次加载慢，后续快</li> <li>缺点：第一次慢</li> <li>如果想解决：
<ul><li>我们把 JavaScript 文件分散打包运行
<ul><li>执行到哪里就家在哪个组件对应的 JavaScript 代码</li> <li>这样的话会提高首次加载速度</li> <li>后续是用到哪个加载哪里</li></ul></li> <li>这里可以利用路由懒加载实现</li></ul></li></ul></li> <li>优化第三方包
<ul><li>cdn</li> <li>bootcdn.cn</li></ul></li></ul></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/thisliuyang/vuejs-tutorial/edit/master/docs/11-pinyougou.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">4/5/2019, 3:06:48 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/10-preheat.html" class="prev">
          第10章 预热案例
        </a></span> <span class="next"><a href="/12-webpack.html">
          第12章 webpack
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.04bb4e44.js" defer></script><script src="/assets/js/2.5531c68e.js" defer></script>
  </body>
</html>
